var search=document.querySelector(".search-button"),popup=document.querySelector(".modal-search-form"),arrival=popup.querySelector("[name=arrival-date]"),departure=popup.querySelector("[name=departure-date]"),aduls=popup.querySelector("[name=aduls]"),childrens=popup.querySelector("[name=childrens]"),form=popup.querySelector("form");if(window.localStorage)var isStorageSupport=!0;else isStorageSupport=!1;isStorageSupport&&(arrival.value=localStorage.getItem("arrival"),departure.value=localStorage.getItem("departure"),aduls.value=localStorage.getItem("aduls"),childrens.value=localStorage.getItem("childrens")),search.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("modal-none"),arrival.value?departure.value?aduls.value?childrens.focus():aduls.focus():departure.focus():setTimeout(function(){arrival.focus()},1e3)}),form.addEventListener("submit",function(e){arrival.value&&departure.value&&aduls.value&&childrens.value||(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"),isStorageSupport&&(localStorage.setItem("arrival",arrival.value),localStorage.setItem("departure",departure.value),localStorage.setItem("aduls",aduls.value),localStorage.setItem("childrens",childrens.value)))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-search-form")&&popup.classList.toggle("modal-none"))});
